---
title: useClickOutside
description: Custom hook to detect clicks outside the element.
---

## Installation

<CodeTabs>
  <TabsList>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>
  
  <TabsContent value="cli">
    ```package-install
    npx shadcn@latest add https://react-usekit.vercel.app/r/use-click-outside.json
    ```
  </TabsContent>
  
  <TabsContent value="manual">
    Copy and paste the following code into your project.

    ```ts title="hooks/use-click-outside.ts"
    import { useEffect, useRef } from "react";

    /**
     * Custom hook to detect clicks outside the element.
     * @param callback - Function to call when a click outside the element is detected.
     * @returns A ref to attach to the element you want to monitor for outside clicks.
     */
    export function useClickOutside<T extends HTMLElement>(callback: () => void) {
      const ref = useRef<T>(null);

      useEffect(() => {
        function handleClick(e: MouseEvent) {
          if (ref.current && !ref.current.contains(e.target as Node)) {
            callback();
          }
        }
        document.addEventListener("mousedown", handleClick);
        return () => document.removeEventListener("mousedown", handleClick);
      }, [callback]);

      return ref;
    }
    ```

  </TabsContent>
</CodeTabs>

## Usage

```tsx
import { useClickOutside } from "@/hooks/use-click-outside"; // [!code highlight]
import { useState } from "react";

function App() {
  const [isOpen, setIsOpen] = useState(false);
  // [!code highlight]
  const dropdownRef = useClickOutside<HTMLDivElement>(() => {
    setIsOpen(false);
  });

  return (
    <div ref={dropdownRef}>
      <button onClick={() => setIsOpen(!isOpen)}>
        Menu {isOpen ? "▼" : "▶"}
      </button>
      {isOpen && (
        <div>
          <p>Option 1</p>
          <p>Option 2</p>
          <p>Option 3</p>
        </div>
      )}
    </div>
  );
}
```

## API

### Parameters

| Parameter  | Type         | Description                                       |
| ---------- | ------------ | ------------------------------------------------- |
| `callback` | `() => void` | Function to call when a click outside is detected |

### Returns

| Name  | Type           | Description                               |
| ----- | -------------- | ----------------------------------------- |
| `ref` | `RefObject<T>` | A ref to attach to the element to monitor |
