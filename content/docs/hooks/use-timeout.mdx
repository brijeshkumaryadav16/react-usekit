---
title: useTimeout
description: A custom hook that sets up a timeout to call a callback function after a specified delay.
---

## Installation

<CodeTabs>
  <TabsList>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>
  
  <TabsContent value="cli">
    ```package-install
    npx shadcn@latest add https://react-usekit.vercel.app/r/use-timeout.json
    ```
  </TabsContent>
  
  <TabsContent value="manual">
    Copy and paste the following code into your project.

    ```ts title="hooks/use-timeout.ts"
    import { useEffect, useLayoutEffect, useRef } from "react";

    /**
     * A custom hook that sets up a timeout to call a callback function after a specified delay.
     * @param callback - The function to be called after the timeout.
     * @param delay - The time in milliseconds before calling the callback. If null, the timeout is not set.
     */
    const useIsomorphicLayoutEffect =
      typeof window !== "undefined" ? useLayoutEffect : useEffect;

    export function useTimeout(callback: () => void, delay: number | null): void {
      const savedCallback = useRef(callback);

      // Remember the latest callback if it changes.
      useIsomorphicLayoutEffect(() => {
        savedCallback.current = callback;
      }, [callback]);

      useEffect(() => {
        if (delay === null || delay < 0) {
          return;
        }

        const tick = () => savedCallback.current();
        const id = setTimeout(tick, delay);

        return () => clearTimeout(id);
      }, [delay]);
    }
    ```

  </TabsContent>
</CodeTabs>

## Usage

```tsx
import { useTimeout } from "@/hooks/useTimeout";
import { useState } from "react";

function DelayedMessage() {
  const [showMessage, setShowMessage] = useState(false);
  const [isActive, setIsActive] = useState(true);

  useTimeout(
    () => {
      setShowMessage(true);
    },
    isActive ? 3000 : null
  );

  return (
    <div>
      {showMessage ? (
        <p>This message appeared after 3 seconds!</p>
      ) : (
        <p>Waiting for message...</p>
      )}
      <button onClick={() => setIsActive(!isActive)}>
        {isActive ? "Cancel" : "Start"} Timeout
      </button>
      <button onClick={() => setShowMessage(false)}>Reset</button>
    </div>
  );
}
```

<Callout type="info">
  Pass `null` as the delay to cancel the timeout. The hook automatically cleans
  up the timeout when the component unmounts.
</Callout>

## API

### Parameters

| Parameter  | Type             | Description                                                                             |
| ---------- | ---------------- | --------------------------------------------------------------------------------------- |
| `callback` | `() => void`     | The function to be called after the delay                                               |
| `delay`    | `number \| null` | The time in milliseconds before calling the function. If null, the timeout is cancelled |

### Returns

This hook doesn't return anything.
