---
title: Hooks
description: 8 essential React hooks for common patterns
---

import { Callout } from "fumadocs-ui/components/callout";

# React Hooks

<Callout>
  Production-ready React hooks that solve common problems. Each hook is
  copy-pasted directly into your project - no dependencies, just code you own.
</Callout>

## Available Hooks

- **useLocalStorage** - Persist state in localStorage with automatic sync
- **useToggle** - Boolean state with toggle, set true/false functions
- **useDebounce** - Delay value updates until after specified delay
- **useAsync** - Handle async operations with loading, error states
- **useClickOutside** - Detect clicks outside specific elements
- **useEventListener** - Add/remove event listeners with cleanup
- **useWindowSize** - Track browser window dimensions with resize
- **useInterval** - Set up intervals that automatically clean up

---

## useLocalStorage

**Save data that persists between page refreshes**

```tsx
const [name, setName] = useLocalStorage("username", "");
```

**What it does:** Stores data in the browser's localStorage so it survives page refreshes and browser restarts.

**Basic Example:**

```tsx
function UserProfile() {
  const [name, setName] = useLocalStorage("name", "");

  return (
    <input
      value={name}
      onChange={(e) => setName(e.target.value)}
      placeholder="Your name (automatically saved)"
    />
  );
}
```

**Advanced Example:**

```tsx
function ShoppingCart() {
  const [cart, setCart] = useLocalStorage("cart", []);

  const addItem = (item) => setCart([...cart, item]);
  const removeItem = (id) => setCart(cart.filter((item) => item.id !== id));

  return (
    <div>
      <p>Items in cart: {cart.length}</p>
      <button onClick={() => addItem({ id: Date.now(), name: "Product" })}>
        Add Item
      </button>
    </div>
  );
}
```

---

## useToggle

**Easily manage boolean (true/false) states**

```tsx
const [isOpen, toggle, setTrue, setFalse] = useToggle(false);
```

**What it does:** Provides convenient functions to toggle, set true, or set false for boolean values.

**Basic Example:**

```tsx
function Modal() {
  const [isOpen, toggle, open, close] = useToggle(false);

  return (
    <div>
      <button onClick={open}>Open Modal</button>
      {isOpen && (
        <div className="modal">
          <p>Modal content</p>
          <button onClick={close}>Close</button>
        </div>
      )}
    </div>
  );
}
```

**Advanced Example:**

```tsx
function Sidebar() {
  const [isCollapsed, toggleCollapsed] = useToggle(false);
  const [isDarkMode, toggleDarkMode] = useToggle(false);

  return (
    <aside
      className={`sidebar ${isCollapsed ? "collapsed" : ""} ${
        isDarkMode ? "dark" : ""
      }`}
    >
      <button onClick={toggleCollapsed}>
        {isCollapsed ? "Expand" : "Collapse"}
      </button>
      <button onClick={toggleDarkMode}>
        {isDarkMode ? "Light Mode" : "Dark Mode"}
      </button>
    </aside>
  );
}
```

---

## useDebounce

**Delay updates until user stops typing**

```tsx
const debouncedValue = useDebounce(value, 300);
```

**What it does:** Waits for a pause before updating the value. Perfect for search inputs to avoid making too many API calls.

**Basic Example:**

```tsx
function SearchBox() {
  const [search, setSearch] = useState("");
  const debouncedSearch = useDebounce(search, 500);

  useEffect(() => {
    if (debouncedSearch) {
      console.log("Searching for:", debouncedSearch);
      // Make API call here
    }
  }, [debouncedSearch]);

  return (
    <input
      value={search}
      onChange={(e) => setSearch(e.target.value)}
      placeholder="Search... (waits 500ms after you stop typing)"
    />
  );
}
```

---

## useAsync

**Handle API calls and loading states**

```tsx
const { data, loading, error, execute } = useAsync(asyncFunction);
```

**What it does:** Manages the common pattern of loading data from APIs with loading and error states.

**Basic Example:**

```tsx
function UserList() {
  const {
    data: users,
    loading,
    error,
  } = useAsync(() => fetch("/api/users").then((res) => res.json()));

  if (loading) return <div>Loading users...</div>;
  if (error) return <div>Error: {error.message}</div>;

  return (
    <ul>
      {users?.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

**Advanced Example:**

```tsx
function WeatherWidget() {
  const [city, setCity] = useState("New York");

  const {
    data: weather,
    loading,
    error,
    execute,
  } = useAsync(
    () => fetch(`/api/weather?city=${city}`).then((res) => res.json()),
    [city] // Re-run when city changes
  );

  return (
    <div>
      <input
        value={city}
        onChange={(e) => setCity(e.target.value)}
        placeholder="Enter city name"
      />
      <button onClick={execute}>Refresh Weather</button>

      {loading && <p>Loading weather...</p>}
      {error && <p>Error: {error.message}</p>}
      {weather && <p>Temperature: {weather.temp}Â°F</p>}
    </div>
  );
}
```

---

## useClickOutside

**Detect when user clicks outside an element**

```tsx
const ref = useClickOutside(() => setIsOpen(false));
```

**What it does:** Calls a function when the user clicks anywhere outside the referenced element.

**Basic Example:**

```tsx
function Dropdown() {
  const [isOpen, setIsOpen] = useState(false);
  const ref = useClickOutside(() => setIsOpen(false));

  return (
    <div ref={ref}>
      <button onClick={() => setIsOpen(!isOpen)}>Toggle Dropdown</button>
      {isOpen && (
        <div className="dropdown">
          <p>Dropdown content</p>
          <p>Click outside to close</p>
        </div>
      )}
    </div>
  );
}
```

---

## useEventListener

**Add keyboard shortcuts and event listeners**

```tsx
useEventListener("keydown", (event) => {
  if (event.key === "Escape") closeModal();
});
```

**What it does:** Safely adds event listeners that are automatically cleaned up when the component unmounts.

**Basic Example:**

```tsx
function EscapeToClose() {
  const [isOpen, setIsOpen] = useState(false);

  useEventListener("keydown", (event) => {
    if (event.key === "Escape") {
      setIsOpen(false);
    }
  });

  return (
    <div>
      <button onClick={() => setIsOpen(true)}>Open Modal</button>
      {isOpen && (
        <div className="modal">
          <p>Press Escape to close</p>
          <button onClick={() => setIsOpen(false)}>Close</button>
        </div>
      )}
    </div>
  );
}
```

---

## useWindowSize

**Track browser window dimensions**

```tsx
const { width, height } = useWindowSize();
```

**What it does:** Provides the current window size and updates when the user resizes their browser.

**Basic Example:**

```tsx
function ResponsiveComponent() {
  const { width, height } = useWindowSize();

  return (
    <div>
      <p>
        Window size: {width} x {height}
      </p>
      {width < 768 ? <div>Mobile Layout</div> : <div>Desktop Layout</div>}
    </div>
  );
}
```

---

## useInterval

**Run code repeatedly with proper cleanup**

```tsx
useInterval(() => {
  console.log("This runs every second");
}, 1000);
```

**What it does:** A safe way to use setInterval in React that automatically cleans up when the component unmounts.

**Basic Example:**

```tsx
function Timer() {
  const [count, setCount] = useState(0);
  const [isRunning, setIsRunning] = useState(false);

  useInterval(
    () => {
      setCount(count + 1);
    },
    isRunning ? 1000 : null
  ); // Pass null to pause

  return (
    <div>
      <p>Timer: {count} seconds</p>
      <button onClick={() => setIsRunning(!isRunning)}>
        {isRunning ? "Pause" : "Start"}
      </button>
      <button onClick={() => setCount(0)}>Reset</button>
    </div>
  );
}
```

**Advanced Example:**

```tsx
function AutoSave() {
  const [content, setContent] = useState("");
  const [lastSaved, setLastSaved] = useState(null);

  useInterval(() => {
    if (content) {
      // Auto-save every 30 seconds
      localStorage.setItem("draft", content);
      setLastSaved(new Date().toLocaleTimeString());
    }
  }, 30000);

  return (
    <div>
      <textarea
        value={content}
        onChange={(e) => setContent(e.target.value)}
        placeholder="Start typing... auto-saves every 30 seconds"
      />
      {lastSaved && <p>Last saved: {lastSaved}</p>}
    </div>
  );
}
```
